<!-- CodeSandbox Template File -->
<!-- 该文件包含完整的模板数据和设置信息，可以被重新导入 -->
<type>mars3d</type>
<title>Mars3D demo</title>
<meta name="description" content="This is a template example page for Mars3D." />
<template>
  <div id="mars3dContainer" class="mars3d-container"></div>
</template>
<script>
  // 创建三维地球场景
  const map = new mars3d.Map('mars3dContainer', {
    scene: {
      center: { lat: 30.054604, lng: 108.885436, alt: 17036414, heading: 0, pitch: -90 },
      showSun: true,
      showMoon: true,
      showSkyBox: true,
      showSkyAtmosphere: false, // 关闭球周边的白色轮廓 map.scene.skyAtmosphere = false
      fog: true,
      fxaa: true,
      globe: {
        showGroundAtmosphere: false, // 关闭大气（球表面白蒙蒙的效果）
        depthTestAgainstTerrain: false,
        baseColor: '#546a53',
      },
      cameraController: {
        zoomFactor: 3.0,
        minimumZoomDistance: 1,
        maximumZoomDistance: 50000000,
        enableRotate: true,
        enableZoom: true,
      },
      mapProjection: mars3d.CRS.EPSG3857, // 2D下展示墨卡托投影
      mapMode2D: Cesium.MapMode2D.INFINITE_SCROLL, // 2D下左右一直可以滚动重复世界地图
    },
    control: {
      baseLayerPicker: true, // basemaps底图切换按钮
      homeButton: true, // 视角复位按钮
      sceneModePicker: true, // 二三维切换按钮
      navigationHelpButton: true, // 帮助按钮
      fullscreenButton: true, // 全屏按钮
      contextmenu: { hasDefault: true }, // 右键菜单
    },
    terrain: {
      url: 'https://data.mars3d.cn/terrain',
      show: true,
    },
    basemaps: [
      {
        name: '天地图影像',
        icon: 'https://data.mars3d.cn/img/thumbnail/basemap/tdt_img.png',
        type: 'tdt',
        layer: 'img_d',
        show: true,
      },
    ],
  })

  // 打印测试信息
  console.log('mars3d的Map主对象构造完成', map)
  console.log('其中Cesium原生的Cesium.Viewer为', map.viewer)

  console.log('当前电脑是否支持webgl2', Cesium.FeatureDetection.supportsWebgl2(map.scene))
</script>
<style>
  html,
  body,
  .mars3d-container {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
  }
</style>
